<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOEFL Essential Vocabulary Flashcards</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            color: #333;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            justify-content: space-between;
            align-items: center;
            direction: ltr;
        }

        .header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            background-color: #fff;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        h1 {
            color: #1a237e;
            font-size: 1.5rem;
            margin: 0;
        }

        .controls {
            display: flex;
            gap: 10px;
        }

        select, button {
            padding: 8px 12px;
            border-radius: 15px;
            border: none;
            cursor: pointer;
            font-size: 13px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        select {
            background-color: #fff;
        }

        button {
            background-color: #2196f3;
            color: white;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #1976d2;
        }

        .main-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
            position: relative;
            gap: 15px;
        }

        .flashcard-wrapper {
            perspective: 1000px;
            width: 95%;
            max-width: 450px;
            height: 480px;
            position: relative;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .flashcard {
            width: 100%;
            height: 100%;
            position: absolute;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: #fff;
        }

        .flashcard.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            border-radius: 20px;
        }

        .card-back {
            transform: rotateY(180deg);
            background: #4fc3f7;
            color: white;
        }

        .word-container {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }

        .word {
            font-size: 2.5rem;
            font-weight: bold;
            color: #0d47a1;
        }

        .meaning {
            font-size: 1.8rem;
            font-weight: bold;
        }

        .pronunciation {
            font-size: 1.1rem;
            color: #757575;
            font-style: italic;
            margin-top: 5px;
        }

        .unit-info {
            position: absolute;
            bottom: 15px;
            right: 15px;
            font-size: 0.9rem;
            color: #9e9e9e;
        }

        .card-back .unit-info {
            color: rgba(255, 255, 255, 0.7);
        }

        .pronunciation-button {
            background-color: transparent;
            border: none;
            font-size: 1.8rem;
            cursor: pointer;
            margin-left: 10px;
            color: #0d47a1;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .pronunciation-button:active {
            transform: scale(0.9);
        }

        .progress-container {
            margin-top: 0;
            margin-bottom: 10px;
            background: #fff;
            padding: 8px 15px;
            border-radius: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-size: 1rem;
            color: #555;
            min-width: 80px;
            text-align: center;
            z-index: 5;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            width: 95%;
            max-width: 550px;
            margin-top: 0;
            margin-bottom: 20px;
            z-index: 5;
        }

        .navigation-buttons button {
            flex: 1;
            padding: 12px 15px;
            font-size: 1.1rem;
            margin: 0 5px;
            background-color: #2196f3;
            color: white;
            border-radius: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .navigation-buttons button:first-child {
            background-color: #f44336;
        }

        .navigation-buttons button:last-child {
            background-color: #4CAF50;
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.2rem;
            }
            .controls {
                gap: 5px;
            }
            select, button {
                padding: 6px 10px;
                font-size: 12px;
            }
            .word {
                font-size: 2rem;
            }
            .meaning {
                font-size: 1.4rem;
            }
            .pronunciation {
                font-size: 0.9rem;
            }
            .pronunciation-button {
                font-size: 1.5rem;
            }
            .flashcard-wrapper {
                height: 400px;
            }
            .navigation-buttons button {
                font-size: 1rem;
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>TOEFL Essential Vocabulary 📚</h1>
        <div class="controls">
            <select id="unitSelect">
                <option value="all">All Units</option>
                <option value="1">Lesson 1</option>
                <option value="2">Lesson 2</option>
                <option value="3">Lesson 3</option>
                <option value="4">Lesson 4</option>
                <option value="5">Lesson 5</option>
                <option value="6">Lesson 6</option>
                <option value="7">Lesson 7</option>
                <option value="8">Lesson 8</option>
                <option value="9">Lesson 9</option>
                <option value="10">Lesson 10</option>
                <option value="11">Lesson 11</option>
                <option value="12">Lesson 12</option>
                <option value="13">Lesson 13</option>
                <option value="14">Lesson 14</option>
                <option value="15">Lesson 15</option>
                <option value="16">Lesson 16</option>
                <option value="17">Lesson 17</option>
                <option value="18">Lesson 18</option>
                <option value="19">Lesson 19</option>
                <option value="20">Lesson 20</option>
                <option value="21">Lesson 21</option>
                <option value="22">Lesson 22</option>
                <option value="23">Lesson 23</option>
                <option value="24">Lesson 24</option>
                <option value="25">Lesson 25</option>
                <option value="26">Lesson 26</option>
                <option value="27">Lesson 27</option>
                <option value="28">Lesson 28</option>
                <option value="29">Lesson 29</option>
                <option value="30">Lesson 30</option>
            </select>
            <button onclick="shuffleCards()">🔄 Shuffle</button>
            <button onclick="resetProgress()">🔃 Reset</button>
        </div>
    </div>
    <div class="main-content">
        <div class="progress-container" id="progressInfo">
            Card <span id="currentCard">1</span> of <span id="totalCards">0</span>
        </div>
        <div class="flashcard-wrapper" id="flashcard-wrapper">
            <div class="flashcard" id="flashcard">
                <div class="card-face card-front">
                    <div class="word-container">
                        <div class="word" id="word"></div>
                        <button class="pronunciation-button" onclick="event.stopPropagation(); pronounceWord()" title="Pronounce word">
                            🔊
                        </button>
                    </div>
                    <div class="pronunciation" id="pronunciation"></div>
                    <div class="unit-info" id="unitInfo"></div>
                </div>
                <div class="card-face card-back">
                    <div class="meaning" id="meaning"></div>
                    <div class="unit-info" id="unitInfoBack"></div>
                </div>
            </div>
        </div>
        <div class="navigation-buttons">
            <button onclick="previousCard()">⬅️ Previous</button>
            <button onclick="nextCard()">Next ➡️</button>
        </div>
    </div>
    <script>
        const vocabulary = {
            1: [
                {word: "abroad", pronunciation: "/əˈbrɔːd/", meaning: "خارج از کشور"},
                {word: "abrupt", pronunciation: "/əˈbrʌpt/", meaning: "ناگهانی"},
                {word: "acceptable", pronunciation: "/əkˈseptəbl/", meaning: "قابل قبول"},
                {word: "acclaim", pronunciation: "/əˈkleɪm/", meaning: "تحسین و آوازه"},
                {word: "actually", pronunciation: "/ˈæktʃuəli/", meaning: "در واقع"},
                {word: "advice", pronunciation: "/ədˈvaɪs/", meaning: "نصیحت"},
                {word: "haphazardly", pronunciation: "/hæpˈhæzərdli/", meaning: "بی‌نظم"},
                {word: "attractive", pronunciation: "/əˈtræktɪv/", meaning: "جذاب"},
                {word: "persistent", pronunciation: "/pərˈsɪstənt/", meaning: "مداوم"},
                {word: "autonomous", pronunciation: "/ɔːˈtɑːnəməs/", meaning: "خودمختار"},
                {word: "postpone", pronunciation: "/poʊstˈpoʊn/", meaning: "به تعویق انداختن"},
                {word: "chronic", pronunciation: "/ˈkrɑːnɪk/", meaning: "مزمن"},
                {word: "valid", pronunciation: "/ˈvælɪd/", meaning: "معتبر"},
                {word: "disapproval", pronunciation: "/ˌdɪsəˈpruːvəl/", meaning: "عدم تایید"},
                {word: "disruptive", pronunciation: "/dɪsˈrʌptɪv/", meaning: "مخل"},
                {word: "withdraw", pronunciation: "/wɪðˈdrɔː/", meaning: "کنار کشیدن"}
            ],
            2: [
                {word: "advantage", pronunciation: "/ədˈvæntɪdʒ/", meaning: "مزیت"},
                {word: "advent", pronunciation: "/ˈædvent/", meaning: "ظهور"},
                {word: "agile", pronunciation: "/ˈædʒaɪl/", meaning: "چالاک"},
                {word: "albeit", pronunciation: "/ɔːlˈbiːɪt/", meaning: "اگرچه"},
                {word: "appealing", pronunciation: "/əˈpiːlɪŋ/", meaning: "جذاب"},
                {word: "celebrated", pronunciation: "/ˈseləbreɪtɪd/", meaning: "مشهور"},
                {word: "circumvent", pronunciation: "/ˈsɜːrkəmvent/", meaning: "دور زدن"},
                {word: "frail", pronunciation: "/freɪl/", meaning: "شکننده"},
                {word: "collide", pronunciation: "/kəˈlaɪd/", meaning: "برخورد کردن"},
                {word: "heyday", pronunciation: "/ˈheɪdeɪ/", meaning: "دوران اوج"},
                {word: "contemporary", pronunciation: "/kənˈtempəreri/", meaning: "معاصر"},
                {word: "myth", pronunciation: "/mɪθ/", meaning: "افسانه"},
                {word: "distribute", pronunciation: "/dɪˈstrɪbjuːt/", meaning: "توزیع کردن"},
                {word: "refine", pronunciation: "/rɪˈfaɪn/", meaning: "تصفیه کردن"},
                {word: "encourage", pronunciation: "/ɪnˈkɜːrɪdʒ/", meaning: "تشویق کردن"},
                {word: "worthwhile", pronunciation: "/ˌwɜːrθˈwaɪl/", meaning: "ارزشمند"},
                {word: "energetic", pronunciation: "/ˌenərˈdʒetɪk/", meaning: "پرانرژی"}
            ],
            3: [
                {word: "alter", pronunciation: "/ˈɔːltər/", meaning: "تغییر دادن"},
                {word: "analyze", pronunciation: "/ˈænəlaɪz/", meaning: "تحلیل کردن"},
                {word: "ancient", pronunciation: "/ˈeɪnʃənt/", meaning: "باستانی"},
                {word: "annoying", pronunciation: "/əˈnɔɪɪŋ/", meaning: "آزاردهنده"},
                {word: "anticipate", pronunciation: "/ænˈtɪsəpeɪt/", meaning: "پیش‌بینی کردن"},
                {word: "ascertain", pronunciation: "/ˌæsərˈteɪn/", meaning: "مطمئن شدن"},
                {word: "conform", pronunciation: "/kənˈfɔːrm/", meaning: "انطباق دادن"},
                {word: "propose", pronunciation: "/prəˈpoʊz/", meaning: "پیشنهاد دادن"},
                {word: "enrich", pronunciation: "/ɪnˈrɪtʃ/", meaning: "غنی کردن"},
                {word: "restore", pronunciation: "/rɪˈstɔːr/", meaning: "بازسازی کردن"},
                {word: "intensify", pronunciation: "/ɪnˈtensɪfaɪ/", meaning: "تشدید کردن"},
                {word: "staple", pronunciation: "/ˈsteɪpl/", meaning: "اساسی"},
                {word: "intolerable", pronunciation: "/ɪnˈtɑːlərəbl/", meaning: "غیرقابل تحمل"},
                {word: "turbulent", pronunciation: "/ˈtɜːrbjələnt/", meaning: "متلاطم"},
                {word: "ongoing", pronunciation: "/ˈɑːnɡoʊɪŋ/", meaning: "در حال انجام"},
                {word: "vital", pronunciation: "/ˈvaɪtl/", meaning: "حیاتی"},
                {word: "potential", pronunciation: "/pəˈtenʃl/", meaning: "بالقوه"}
            ],
            4: [
                {word: "ambiguous", pronunciation: "/æmˈbɪɡjuəs/", meaning: "مبهم"},
                {word: "arbitrary", pronunciation: "/ˈɑːrbɪtreri/", meaning: "خودسرانه"},
                {word: "assert", pronunciation: "/əˈsɜːrt/", meaning: "اظهار کردن"},
                {word: "astounding", pronunciation: "/əˈstaʊndɪŋ/", meaning: "شگفت‌انگیز"},
                {word: "astute", pronunciation: "/əˈstuːt/", meaning: "زیرک"},
                {word: "concur", pronunciation: "/kənˈkɜːr/", meaning: "موافقت کردن"},
                {word: "deceptively", pronunciation: "/dɪˈseptɪvli/", meaning: "فریبنده"},
                {word: "mundane", pronunciation: "/mʌnˈdeɪn/", meaning: "عادی"},
                {word: "designate", pronunciation: "/ˈdezɪɡneɪt/", meaning: "تعیین کردن"},
                {word: "petition", pronunciation: "/pəˈtɪʃn/", meaning: "درخواست"},
                {word: "determined", pronunciation: "/dɪˈtɜːrmɪnd/", meaning: "مصمم"},
                {word: "relinquish", pronunciation: "/rɪˈlɪŋkwɪʃ/", meaning: "رها کردن"},
                {word: "elicit", pronunciation: "/ɪˈlɪsɪt/", meaning: "استخراج کردن"},
                {word: "resilient", pronunciation: "/rɪˈzɪljənt/", meaning: "انعطاف‌پذیر"},
                {word: "embody", pronunciation: "/ɪmˈbɑːdi/", meaning: "تجسم دادن"},
                {word: "tempt", pronunciation: "/tempt/", meaning: "وسوسه کردن"},
                {word: "instigate", pronunciation: "/ˈɪnstɪɡeɪt/", meaning: "تحریک کردن"}
            ],
            5: [
                {word: "baffle", pronunciation: "/ˈbæfl/", meaning: "گیج کردن"},
                {word: "enhance", pronunciation: "/ɪnˈhæns/", meaning: "بهبود دادن"},
                {word: "persuade", pronunciation: "/pərˈsweɪd/", meaning: "متقاعد کردن"},
                {word: "bear", pronunciation: "/ber/", meaning: "تحمل کردن"},
                {word: "facilitate", pronunciation: "/fəˈsɪləteɪt/", meaning: "تسهیل کردن"},
                {word: "recompense", pronunciation: "/ˈrekəmpens/", meaning: "جبران کردن"},
                {word: "blur", pronunciation: "/blɜːr/", meaning: "مبهم کردن"},
                {word: "incessant", pronunciation: "/ɪnˈsesnt/", meaning: "بی‌وقفه"},
                {word: "shed", pronunciation: "/ʃed/", meaning: "ریختن"},
                {word: "brilliant", pronunciation: "/ˈbrɪljənt/", meaning: "درخشان"},
                {word: "in conjunction with", pronunciation: "/ɪn kənˈdʒʌŋkʃn wɪð/", meaning: "در ارتباط با"},
                {word: "unique", pronunciation: "/juːˈniːk/", meaning: "منحصر به فرد"},
                {word: "condense", pronunciation: "/kənˈdens/", meaning: "تراکم کردن"},
                {word: "intricate", pronunciation: "/ˈɪntrɪkət/", meaning: "پیچیده"},
                {word: "depress", pronunciation: "/dɪˈpres/", meaning: "افسرده کردن"},
                {word: "substantially", pronunciation: "/səbˈstænʃəli/", meaning: "بطور قابل توجهی"},
                {word: "disprove", pronunciation: "/ˌdɪsˈpruːv/", meaning: "رد کردن"}
            ],
            6: [
                {word: "abundant", pronunciation: "/əˈbʌndənt/", meaning: "فراوان"},
                {word: "acknowledge", pronunciation: "/əkˈnɑːlɪdʒ/", meaning: "تایید کردن"},
                {word: "albeit", pronunciation: "/ɔːlˈbiːɪt/", meaning: "اگرچه"},
                {word: "apparent", pronunciation: "/əˈpærənt/", meaning: "واضح"},
                {word: "concur", pronunciation: "/kənˈkɜːr/", meaning: "موافقت کردن"},
                {word: "constrain", pronunciation: "/kənˈstreɪn/", meaning: "محدود کردن"},
                {word: "contaminate", pronunciation: "/kənˈtæmɪneɪt/", meaning: "آلوده کردن"},
                {word: "disseminate", pronunciation: "/dɪˈsemɪneɪt/", meaning: "منتشر کردن"},
                {word: "dormant", pronunciation: "/ˈdɔːrmənt/", meaning: "خوابیده"},
                {word: "erupt", pronunciation: "/ɪˈrʌpt/", meaning: "فوران کردن"},
                {word: "excavate", pronunciation: "/ˈekskəveɪt/", meaning: "حفاری کردن"},
                {word: "extinguish", pronunciation: "/ɪkˈstɪŋɡwɪʃ/", meaning: "خاموش کردن"},
                {word: "feeble", pronunciation: "/ˈfiːbl/", meaning: "ضعیف"},
                {word: "fragment", pronunciation: "/ˈfræɡmənt/", meaning: "تکه"},
                {word: "inspect", pronunciation: "/ɪnˈspekt/", meaning: "بازرسی کردن"},
                {word: "stagnant", pronunciation: "/ˈstæɡnənt/", meaning: "راکد"}
            ],
            7: [
                {word: "apprentice", pronunciation: "/əˈprentɪs/", meaning: "شاگرد"},
                {word: "aptitude", pronunciation: "/ˈæptɪtuːd/", meaning: "استعداد"},
                {word: "culminate", pronunciation: "/ˈkʌlmɪneɪt/", meaning: "به اوج رسیدن"},
                {word: "exclusively", pronunciation: "/ɪkˈskluːsɪvli/", meaning: "منحصراً"},
                {word: "expertise", pronunciation: "/ˌekspɜːrˈtiːz/", meaning: "تخصص"},
                {word: "extinct", pronunciation: "/ɪkˈstɪŋkt/", meaning: "منقرض"},
                {word: "imperative", pronunciation: "/ɪmˈperətɪv/", meaning: "ضروری"},
                {word: "instill", pronunciation: "/ɪnˈstɪl/", meaning: "تلقین کردن"},
                {word: "lure", pronunciation: "/lʊər/", meaning: "اغوا کردن"},
                {word: "malleable", pronunciation: "/ˈmæliəbl/", meaning: "شکل‌پذیر"},
                {word: "predominantly", pronunciation: "/prɪˈdɑːmɪnəntli/", meaning: "عمدتاً"},
                {word: "proficient", pronunciation: "/prəˈfɪʃnt/", meaning: "ماهر"},
                {word: "sensation", pronunciation: "/senˈseɪʃn/", meaning: "احساس"},
                {word: "tantamount", pronunciation: "/ˈtæntəmaʊnt/", meaning: "معادل"}
            ],
            8: [
                {word: "bombard", pronunciation: "/bɑːmˈbɑːrd/", meaning: "بمباران کردن"},
                {word: "comprehensive", pronunciation: "/ˌkɑːmprɪˈhensɪv/", meaning: "جامع"},
                {word: "conclusive", pronunciation: "/kənˈkluːsɪv/", meaning: "قطعی"},
                {word: "corroborate", pronunciation: "/kəˈrɑːbəreɪt/", meaning: "تایید کردن"},
                {word: "critically", pronunciation: "/ˈkrɪtɪkli/", meaning: "به صورت بحرانی"},
                {word: "disapprove", pronunciation: "/ˌdɪsəˈpruːv/", meaning: "مخالفت کردن"},
                {word: "empirical", pronunciation: "/ɪmˈpɪrɪkl/", meaning: "تجربی"},
                {word: "examine", pronunciation: "/ɪɡˈzæmɪn/", meaning: "بررسی کردن"},
                {word: "falsify", pronunciation: "/ˈfɔːlsɪfaɪ/", meaning: "جعلی کردن"},
                {word: "hypothetical", pronunciation: "/ˌhaɪpəˈθetɪkl/", meaning: "فرضی"},
                {word: "manipulate", pronunciation: "/məˈnɪpjuleɪt/", meaning: "دستکاری کردن"},
                {word: "perceive", pronunciation: "/pərˈsiːv/", meaning: "درک کردن"},
                {word: "prevalent", pronunciation: "/ˈprevələnt/", meaning: "رایج"},
                {word: "profound", pronunciation: "/prəˈfaʊnd/", meaning: "عمیق"},
                {word: "purported", pronunciation: "/pərˈpɔːrtɪd/", meaning: "ظاهراً"}
            ],
            9: [
                {word: "anxious", pronunciation: "/ˈæŋkʃəs/", meaning: "مضطرب"},
                {word: "awe", pronunciation: "/ɔː/", meaning: "ترس و احترام"},
                {word: "controversial", pronunciation: "/ˌkɑːntrəˈvɜːrʃl/", meaning: "جنجالی"},
                {word: "detrimental", pronunciation: "/ˌdetrɪˈmentl/", meaning: "مضر"},
                {word: "elicit", pronunciation: "/ɪˈlɪsɪt/", meaning: "استخراج کردن"},
                {word: "havoc", pronunciation: "/ˈhævək/", meaning: "ویرانی"},
                {word: "intercede", pronunciation: "/ˌɪntərˈsiːd/", meaning: "شفاعت کردن"},
                {word: "oppress", pronunciation: "/əˈpres/", meaning: "ظلم کردن"},
                {word: "preposterous", pronunciation: "/prɪˈpɑːstərəs/", meaning: "پوچ"},
                {word: "rebuke", pronunciation: "/rɪˈbjuːk/", meaning: "توبیخ کردن"},
                {word: "repress", pronunciation: "/rɪˈpres/", meaning: "سرکوب کردن"},
                {word: "triumph", pronunciation: "/ˈtraɪəmf/", meaning: "پیروزی"},
                {word: "unprecedented", pronunciation: "/ʌnˈpresɪdentɪd/", meaning: "بی‌سابقه"},
                {word: "vocational", pronunciation: "/voʊˈkeɪʃənl/", meaning: "حرفه‌ای"}
            ],
            10: [
                {word: "compel", pronunciation: "/kəmˈpel/", meaning: "وادار کردن"},
                {word: "confront", pronunciation: "/kənˈfrʌnt/", meaning: "روبرو شدن"},
                {word: "exaggerated", pronunciation: "/ɪɡˈzædʒəreɪtɪd/", meaning: "اغراق‌آمیز"},
                {word: "extensively", pronunciation: "/ɪkˈstensɪvli/", meaning: "بطور گسترده"},
                {word: "indifferent", pronunciation: "/ɪnˈdɪfrənt/", meaning: "بی‌تفاوت"},
                {word: "intermittently", pronunciation: "/ˌɪntərˈmɪtəntli/", meaning: "متقطع"},
                {word: "lament", pronunciation: "/ləˈment/", meaning: "ناله کردن"},
                {word: "launch", pronunciation: "/lɔːntʃ/", meaning: "راه‌اندازی کردن"},
                {word: "plausible", pronunciation: "/ˈplɔːzəbl/", meaning: "باورکردنی"},
                {word: "subsequent", pronunciation: "/ˈsʌbsɪkwənt/", meaning: "متعاقب"},
                {word: "valid", pronunciation: "/ˈvælɪd/", meaning: "معتبر"}
            ],
            11: [
                {word: "chastise", pronunciation: "/tʃæˈstaɪz/", meaning: "تنبیه کردن"},
                {word: "complement", pronunciation: "/ˈkɑːmplɪment/", meaning: "تکمیل کردن"},
                {word: "contemplate", pronunciation: "/ˈkɑːntəmpleɪt/", meaning: "تأمل کردن"},
                {word: "devastate", pronunciation: "/ˈdevəsteɪt/", meaning: "ویران کردن"},
                {word: "inappropriate", pronunciation: "/ˌɪnəˈproʊpriət/", meaning: "نامناسب"},
                {word: "interact", pronunciation: "/ˌɪntərˈækt/", meaning: "تعامل کردن"},
                {word: "perpetual", pronunciation: "/pərˈpetʃuəl/", meaning: "دائمی"},
                {word: "perplex", pronunciation: "/pərˈpleks/", meaning: "متحیر کردن"},
                {word: "stimulate", pronunciation: "/ˈstɪmjuleɪt/", meaning: "تحریک کردن"},
                {word: "subtly", pronunciation: "/ˈsʌtli/", meaning: "به طور ظریف"},
                {word: "subtle", pronunciation: "/ˈsʌtl/", meaning: "ظریف"}
            ],
            12: [
                {word: "congenial", pronunciation: "/kənˈdʒiːniəl/", meaning: "سازگار"},
                {word: "contemplative", pronunciation: "/kənˈtemplətɪv/", meaning: "متفکر"},
                {word: "disperse", pronunciation: "/dɪˈspɜːrs/", meaning: "پراکنده کردن"},
                {word: "drastically", pronunciation: "/ˈdræstɪkli/", meaning: "به طور جدی"},
                {word: "frail", pronunciation: "/freɪl/", meaning: "شکننده"},
                {word: "hasty", pronunciation: "/ˈheɪsti/", meaning: "عجولانه"},
                {word: "inhibit", pronunciation: "/ɪnˈhɪbɪt/", meaning: "مهار کردن"},
                {word: "mysterious", pronunciation: "/mɪˈstɪəriəs/", meaning: "اسرارآمیز"},
                {word: "prominence", pronunciation: "/ˈprɑːmɪnəns/", meaning: "اهمیت"},
                {word: "subtle", pronunciation: "/ˈsʌtl/", meaning: "ظریف"},
                {word: "unprecedented", pronunciation: "/ʌnˈpresɪdentɪd/", meaning: "بی‌سابقه"}
            ],
            13: [
                {word: "audible", pronunciation: "/ˈɔːdəbl/", meaning: "قابل شنیدن"},
                {word: "authentic", pronunciation: "/ɔːˈθentɪk/", meaning: "معتبر"},
                {word: "barren", pronunciation: "/ˈbærən/", meaning: "بایر، بی‌ثمر"},
                {word: "boast", pronunciation: "/boʊst/", meaning: "لاف زدن"},
                {word: "concur", pronunciation: "/kənˈkɜːr/", meaning: "موافقت کردن"},
                {word: "condense", pronunciation: "/kənˈdens/", meaning: "متراکم کردن"},
                {word: "disapproval", pronunciation: "/ˌdɪsəˈpruːvl/", meaning: "عدم تأیید"},
                {word: "discourage", pronunciation: "/dɪsˈkɜːrɪdʒ/", meaning: "دلسرد کردن"},
                {word: "dreadful", pronunciation: "/ˈdredfl/", meaning: "وحشتناک"},
                {word: "embody", pronunciation: "/ɪmˈbɑːdi/", meaning: "تجسم دادن"},
                {word: "exclusively", pronunciation: "/ɪkˈskluːsɪvli/", meaning: "منحصراً"},
                {word: "exquisite", pronunciation: "/ˈekskwɪzɪt/", meaning: "نفیس"},
                {word: "extensively", pronunciation: "/ɪkˈstensɪvli/", meaning: "به طور گسترده"},
                {word: "fragile", pronunciation: "/ˈfrædʒl/", meaning: "شکننده"},
                {word: "hinder", pronunciation: "/ˈhɪndər/", meaning: "مانع شدن"}
            ],
            14: [
                {word: "acknowledge", pronunciation: "/əkˈnɑːlɪdʒ/", meaning: "تایید کردن"},
                {word: "altruistic", pronunciation: "/ˌæltruˈɪstɪk/", meaning: "نوع‌دوستانه"},
                {word: "confront", pronunciation: "/kənˈfrʌnt/", meaning: "روبرو شدن"},
                {word: "counsel", pronunciation: "/ˈkaʊnsl/", meaning: "مشاوره دادن"},
                {word: "disapprove", pronunciation: "/ˌdɪsəˈpruːv/", meaning: "مخالفت کردن"},
                {word: "discredit", pronunciation: "/dɪsˈkredɪt/", meaning: "بی‌اعتبار کردن"},
                {word: "distort", pronunciation: "/dɪˈstɔːrt/", meaning: "تحریف کردن"},
                {word: "elicit", pronunciation: "/ɪˈlɪsɪt/", meaning: "استخراج کردن"},
                {word: "incessant", pronunciation: "/ɪnˈsesnt/", meaning: "بی‌وقفه"},
                {word: "inhibit", pronunciation: "/ɪnˈhɪbɪt/", meaning: "مهار کردن"},
                {word: "perpetual", pronunciation: "/pərˈpetʃuəl/", meaning: "دائمی"},
                {word: "plausible", pronunciation: "/ˈplɔːzəbl/", meaning: "باورکردنی"},
                {word: "prevalent", pronunciation: "/ˈprevələnt/", meaning: "رایج"},
                {word: "pursue", pronunciation: "/pərˈsuː/", meaning: "دنبال کردن"},
                {word: "rebuttal", pronunciation: "/rɪˈbʌtl/", meaning: "تکذیب"}
            ],
            15: [
                {word: "ambiguous", pronunciation: "/æmˈbɪɡjuəs/", meaning: "مبهم"},
                {word: "arbitrary", pronunciation: "/ˈɑːrbɪtreri/", meaning: "خودسرانه"},
                {word: "assert", pronunciation: "/əˈsɜːrt/", meaning: "ادعا کردن"},
                {word: "astounding", pronunciation: "/əˈstaʊndɪŋ/", meaning: "شگفت‌انگیز"},
                {word: "concur", pronunciation: "/kənˈkɜːr/", meaning: "موافقت کردن"},
                {word: "elicit", pronunciation: "/ɪˈlɪsɪt/", meaning: "استخراج کردن"},
                {word: "inhibit", pronunciation: "/ɪnˈhɪbɪt/", meaning: "مهار کردن"},
                {word: "perpetual", pronunciation: "/pərˈpetʃuəl/", meaning: "دائمی"},
                {word: "plausible", pronunciation: "/ˈplɔːzəbl/", meaning: "باورکردنی"},
                {word: "prevalent", pronunciation: "/ˈprevələnt/", meaning: "رایج"},
                {word: "rebuttal", pronunciation: "/rɪˈbʌtl/", meaning: "تکذیب"}
            ],
            16: [
                {word: "compelling", pronunciation: "/kəmˈpelɪŋ/", meaning: "متقاعدکننده"},
                {word: "contemplative", pronunciation: "/kənˈtemplətɪv/", meaning: "متفکر"},
                {word: "disperse", pronunciation: "/dɪˈspɜːrs/", meaning: "پراکنده کردن"},
                {word: "drastically", pronunciation: "/ˈdræstɪkli/", meaning: "بطور جدی"},
                {word: "frail", pronunciation: "/freɪl/", meaning: "شکننده"},
                {word: "inhibit", pronunciation: "/ɪnˈhɪbɪt/", meaning: "مهار کردن"},
                {word: "mysterious", pronunciation: "/mɪˈstɪəriəs/", meaning: "اسرارآمیز"},
                {word: "prominence", pronunciation: "/ˈprɑːmɪnəns/", meaning: "اهمیت"},
                {word: "subtle", pronunciation: "/ˈsʌtl/", meaning: "ظریف"},
                {word: "unprecedented", pronunciation: "/ʌnˈpresɪdentɪd/", meaning: "بی‌سابقه"}
            ],
            17: [
                {word: "audible", pronunciation: "/ˈɔːdəbl/", meaning: "قابل شنیدن"},
                {word: "authentic", pronunciation: "/ɔːˈθentɪk/", meaning: "معتبر"},
                {word: "barren", pronunciation: "/ˈbærən/", meaning: "بایر"},
                {word: "boast", pronunciation: "/boʊst/", meaning: "لاف زدن"},
                {word: "concur", pronunciation: "/kənˈkɜːr/", meaning: "موافقت کردن"},
                {word: "condense", pronunciation: "/kənˈdens/", meaning: "متراکم کردن"},
                {word: "disapproval", pronunciation: "/ˌdɪsəˈpruːvl/", meaning: "عدم تأیید"},
                {word: "discourage", pronunciation: "/dɪsˈkɜːrɪdʒ/", meaning: "دلسرد کردن"},
                {word: "dreadful", pronunciation: "/ˈdredfl/", meaning: "وحشتناک"},
                {word: "embody", pronunciation: "/ɪmˈbɑːdi/", meaning: "تجسم دادن"}
            ],
            18: [
                {word: "altruistic", pronunciation: "/ˌæltruˈɪstɪk/", meaning: "نوع‌دوستانه"},
                {word: "confront", pronunciation: "/kənˈfrʌnt/", meaning: "روبرو شدن"},
                {word: "counsel", pronunciation: "/ˈkaʊnsl/", meaning: "مشاوره دادن"},
                {word: "disapprove", pronunciation: "/ˌdɪsəˈpruːv/", meaning: "مخالفت کردن"},
                {word: "discredit", pronunciation: "/dɪsˈkredɪt/", meaning: "بی‌اعتبار کردن"},
                {word: "distort", pronunciation: "/dɪˈstɔːrt/", meaning: "تحریف کردن"},
                {word: "elicit", pronunciation: "/ɪˈlɪsɪt/", meaning: "استخراج کردن"},
                {word: "incessant", pronunciation: "/ɪnˈsesnt/", meaning: "بی‌وقفه"},
                {word: "inhibit", pronunciation: "/ɪnˈhɪbɪt/", meaning: "مهار کردن"},
                {word: "perpetual", pronunciation: "/pərˈpetʃuəl/", meaning: "دائمی"}
            ],
            19: [
                {word: "compelling", pronunciation: "/kəmˈpelɪŋ/", meaning: "متقاعدکننده"},
                {word: "contemplative", pronunciation: "/kənˈtemplətɪv/", meaning: "متفکر"},
                {word: "disperse", pronunciation: "/dɪˈspɜːrs/", meaning: "پراکنده کردن"},
                {word: "drastically", pronunciation: "/ˈdræstɪkli/", meaning: "به طور جدی"},
                {word: "frail", pronunciation: "/freɪl/", meaning: "شکننده"},
                {word: "inhibit", pronunciation: "/ɪnˈhɪbɪt/", meaning: "مهار کردن"},
                {word: "mysterious", pronunciation: "/mɪˈstɪəriəs/", meaning: "اسرارآمیز"},
                {word: "prominence", pronunciation: "/ˈprɑːmɪnəns/", meaning: "اهمیت"},
                {word: "subtle", pronunciation: "/ˈsʌtl/", meaning: "ظریف"},
                {word: "unprecedented", pronunciation: "/ʌnˈpresɪdentɪd/", meaning: "بی‌سابقه"}
            ],
            20: [
                {word: "audible", pronunciation: "/ˈɔːdəbl/", meaning: "قابل شنیدن"},
                {word: "authentic", pronunciation: "/ɔːˈθentɪk/", meaning: "معتبر"},
                {word: "barren", pronunciation: "/ˈbærən/", meaning: "بایر"},
                {word: "boast", pronunciation: "/boʊst/", meaning: "لاف زدن"},
                {word: "concur", pronunciation: "/kənˈkɜːr/", meaning: "موافقت کردن"},
                {word: "condense", pronunciation: "/kənˈdens/", meaning: "متراکم کردن"},
                {word: "disapproval", pronunciation: "/ˌdɪsəˈpruːvl/", meaning: "عدم تأیید"},
                {word: "discourage", pronunciation: "/dɪsˈkɜːrɪdʒ/", meaning: "دلسرد کردن"},
                {word: "dreadful", pronunciation: "/ˈdredfl/", meaning: "وحشتناک"},
                {word: "embody", pronunciation: "/ɪmˈbɑːdi/", meaning: "تجسم دادن"}
            ],
            21: [
                {word: "altruistic", pronunciation: "/ˌæltruˈɪstɪk/", meaning: "نوع‌دوستانه"},
                {word: "confront", pronunciation: "/kənˈfrʌnt/", meaning: "روبرو شدن"},
                {word: "counsel", pronunciation: "/ˈkaʊnsl/", meaning: "مشاوره دادن"},
                {word: "disapprove", pronunciation: "/ˌdɪsəˈpruːv/", meaning: "مخالفت کردن"},
                {word: "discredit", pronunciation: "/dɪsˈkredɪt/", meaning: "بی‌اعتبار کردن"},
                {word: "distort", pronunciation: "/dɪˈstɔːrt/", meaning: "تحریف کردن"},
                {word: "elicit", pronunciation: "/ɪˈlɪsɪt/", meaning: "استخراج کردن"},
                {word: "incessant", pronunciation: "/ɪnˈsesnt/", meaning: "بی‌وقفه"},
                {word: "inhibit", pronunciation: "/ɪnˈhɪbɪt/", meaning: "مهار کردن"},
                {word: "perpetual", pronunciation: "/pərˈpetʃuəl/", meaning: "دائمی"}
            ],
            22: [
                {word: "ambiguous", pronunciation: "/æmˈbɪɡjuəs/", meaning: "مبهم"},
                {word: "arbitrary", pronunciation: "/ˈɑːrbɪtreri/", meaning: "خودسرانه"},
                {word: "assert", pronunciation: "/əˈsɜːrt/", meaning: "ادعا کردن"},
                {word: "astounding", pronunciation: "/əˈstaʊndɪŋ/", meaning: "شگفت‌انگیز"},
                {word: "concur", pronunciation: "/kənˈkɜːr/", meaning: "موافقت کردن"},
                {word: "elicit", pronunciation: "/ɪˈlɪsɪt/", meaning: "استخراج کردن"},
                {word: "inhibit", pronunciation: "/ɪnˈhɪbɪt/", meaning: "مهار کردن"},
                {word: "perpetual", pronunciation: "/pərˈpetʃuəl/", meaning: "دائمی"},
                {word: "plausible", pronunciation: "/ˈplɔːzəbl/", meaning: "باورکردنی"},
                {word: "prevalent", pronunciation: "/ˈprevələnt/", meaning: "رایج"}
            ],
            23: [
                {word: "compelling", pronunciation: "/kəmˈpelɪŋ/", meaning: "متقاعدکننده"},
                {word: "contemplative", pronunciation: "/kənˈtemplətɪv/", meaning: "متفکر"},
                {word: "disperse", pronunciation: "/dɪˈspɜːrs/", meaning: "پراکنده کردن"},
                {word: "drastically", pronunciation: "/ˈdræstɪkli/", meaning: "به طور جدی"},
                {word: "frail", pronunciation: "/freɪl/", meaning: "شکننده"},
                {word: "inhibit", pronunciation: "/ɪnˈhɪbɪt/", meaning: "مهار کردن"},
                {word: "mysterious", pronunciation: "/mɪˈstɪəriəs/", meaning: "اسرارآمیز"},
                {word: "prominence", pronunciation: "/ˈprɑːmɪnəns/", meaning: "اهمیت"},
                {word: "subtle", pronunciation: "/ˈsʌtl/", meaning: "ظریف"},
                {word: "unprecedented", pronunciation: "/ʌnˈpresɪdentɪd/", meaning: "بی‌سابقه"}
            ],
            24: [
                {word: "audible", pronunciation: "/ˈɔːdəbl/", meaning: "قابل شنیدن"},
                {word: "authentic", pronunciation: "/ɔːˈθentɪk/", meaning: "معتبر"},
                {word: "barren", pronunciation: "/ˈbærən/", meaning: "بایر"},
                {word: "boast", pronunciation: "/boʊst/", meaning: "لاف زدن"},
                {word: "concur", pronunciation: "/kənˈkɜːr/", meaning: "موافقت کردن"},
                {word: "condense", pronunciation: "/kənˈdens/", meaning: "متراکم کردن"},
                {word: "disapproval", pronunciation: "/ˌdɪsəˈpruːvl/", meaning: "عدم تأیید"},
                {word: "discourage", pronunciation: "/dɪsˈkɜːrɪdʒ/", meaning: "دلسرد کردن"},
                {word: "dreadful", pronunciation: "/ˈdredfl/", meaning: "وحشتناک"},
                {word: "embody", pronunciation: "/ɪmˈbɑːdi/", meaning: "تجسم دادن"}
            ],
            25: [
                {word: "altruistic", pronunciation: "/ˌæltruˈɪstɪk/", meaning: "نوع‌دوستانه"},
                {word: "confront", pronunciation: "/kənˈfrʌnt/", meaning: "روبرو شدن"},
                {word: "counsel", pronunciation: "/ˈkaʊnsl/", meaning: "مشاوره دادن"},
                {word: "disapprove", pronunciation: "/ˌdɪsəˈpruːv/", meaning: "مخالفت کردن"},
                {word: "discredit", pronunciation: "/dɪsˈkredɪt/", meaning: "بی‌اعتبار کردن"},
                {word: "distort", pronunciation: "/dɪˈstɔːrt/", meaning: "تحریف کردن"},
                {word: "elicit", pronunciation: "/ɪˈlɪsɪt/", meaning: "استخراج کردن"},
                {word: "incessant", pronunciation: "/ɪnˈsesnt/", meaning: "بی‌وقفه"},
                {word: "inhibit", pronunciation: "/ɪnˈhɪbɪt/", meaning: "مهار کردن"},
                {word: "perpetual", pronunciation: "/pərˈpetʃuəl/", meaning: "دائمی"}
            ],
            26: [
                {word: "ambiguous", pronunciation: "/æmˈbɪɡjuəs/", meaning: "مبهم"},
                {word: "arbitrary", pronunciation: "/ˈɑːrbɪtreri/", meaning: "خودسرانه"},
                {word: "assert", pronunciation: "/əˈsɜːrt/", meaning: "ادعا کردن"},
                {word: "astounding", pronunciation: "/əˈstaʊndɪŋ/", meaning: "شگفت‌انگیز"},
                {word: "concur", pronunciation: "/kənˈkɜːr/", meaning: "موافقت کردن"},
                {word: "elicit", pronunciation: "/ɪˈlɪsɪt/", meaning: "استخراج کردن"},
                {word: "inhibit", pronunciation: "/ɪnˈhɪbɪt/", meaning: "مهار کردن"},
                {word: "perpetual", pronunciation: "/pərˈpetʃuəl/", meaning: "دائمی"},
                {word: "plausible", pronunciation: "/ˈplɔːzəbl/", meaning: "باورکردنی"},
                {word: "prevalent", pronunciation: "/ˈprevələnt/", meaning: "رایج"}
            ],
            27: [
                {word: "compelling", pronunciation: "/kəmˈpelɪŋ/", meaning: "متقاعدکننده"},
                {word: "contemplative", pronunciation: "/kənˈtemplətɪv/", meaning: "متفکر"},
                {word: "disperse", pronunciation: "/dɪˈspɜːrs/", meaning: "پراکنده کردن"},
                {word: "drastically", pronunciation: "/ˈdræstɪkli/", meaning: "به طور جدی"},
                {word: "frail", pronunciation: "/freɪl/", meaning: "شکننده"},
                {word: "inhibit", pronunciation: "/ɪnˈhɪbɪt/", meaning: "مهار کردن"},
                {word: "mysterious", pronunciation: "/mɪˈstɪəriəs/", meaning: "اسرارآمیز"},
                {word: "prominence", pronunciation: "/ˈprɑːmɪnəns/", meaning: "اهمیت"},
                {word: "subtle", pronunciation: "/ˈsʌtl/", meaning: "ظریف"},
                {word: "unprecedented", pronunciation: "/ʌnˈpresɪdentɪd/", meaning: "بی‌سابقه"}
            ],
            28: [
                {word: "audible", pronunciation: "/ˈɔːdəbl/", meaning: "قابل شنیدن"},
                {word: "authentic", pronunciation: "/ɔːˈθentɪk/", meaning: "معتبر"},
                {word: "barren", pronunciation: "/ˈbærən/", meaning: "بایر"},
                {word: "boast", pronunciation: "/boʊst/", meaning: "لاف زدن"},
                {word: "concur", pronunciation: "/kənˈkɜːr/", meaning: "موافقت کردن"},
                {word: "condense", pronunciation: "/kənˈdens/", meaning: "متراکم کردن"},
                {word: "disapproval", pronunciation: "/ˌdɪsəˈpruːvl/", meaning: "عدم تأیید"},
                {word: "discourage", pronunciation: "/dɪsˈkɜːrɪdʒ/", meaning: "دلسرد کردن"},
                {word: "dreadful", pronunciation: "/ˈdredfl/", meaning: "وحشتناک"},
                {word: "embody", pronunciation: "/ɪmˈbɑːdi/", meaning: "تجسم دادن"}
            ],
            29: [
                {word: "altruistic", pronunciation: "/ˌæltruˈɪstɪk/", meaning: "نوع‌دوستانه"},
                {word: "confront", pronunciation: "/kənˈfrʌnt/", meaning: "روبرو شدن"},
                {word: "counsel", pronunciation: "/ˈkaʊnsl/", meaning: "مشاوره دادن"},
                {word: "disapprove", pronunciation: "/ˌdɪsəˈpruːv/", meaning: "مخالفت کردن"},
                {word: "discredit", pronunciation: "/dɪsˈkredɪt/", meaning: "بی‌اعتبار کردن"},
                {word: "distort", pronunciation: "/dɪˈstɔːrt/", meaning: "تحریف کردن"},
                {word: "elicit", pronunciation: "/ɪˈlɪsɪt/", meaning: "استخراج کردن"},
                {word: "incessant", pronunciation: "/ɪnˈsesnt/", meaning: "بی‌وقفه"},
                {word: "inhibit", pronunciation: "/ɪnˈhɪbɪt/", meaning: "مهار کردن"},
                {word: "perpetual", pronunciation: "/pərˈpetʃuəl/", meaning: "دائمی"}
            ],
            30: [
                {word: "ambiguous", pronunciation: "/æmˈbɪɡjuəs/", meaning: "مبهم"},
                {word: "arbitrary", pronunciation: "/ˈɑːrbɪtreri/", meaning: "خودسرانه"},
                {word: "assert", pronunciation: "/əˈsɜːrt/", meaning: "ادعا کردن"},
                {word: "astounding", pronunciation: "/əˈstaʊndɪŋ/", meaning: "شگفت‌انگیز"},
                {word: "concur", pronunciation: "/kənˈkɜːr/", meaning: "موافقت کردن"},
                {word: "elicit", pronunciation: "/ɪˈlɪsɪt/", meaning: "استخراج کردن"},
                {word: "inhibit", pronunciation: "/ɪnˈhɪbɪt/", meaning: "مهار کردن"},
                {word: "perpetual", pronunciation: "/pərˈpetʃuəl/", meaning: "دائمی"},
                {word: "plausible", pronunciation: "/ˈplɔːzəbl/", meaning: "باورکردنی"},
                {word: "prevalent", pronunciation: "/ˈprevələnt/", meaning: "رایج"}
            ]
        };

        const currentFlashcard = document.getElementById('flashcard-wrapper');
        const wordElement = document.getElementById('word');
        const pronunciationElement = document.getElementById('pronunciation');
        const meaningElement = document.getElementById('meaning');
        const unitInfoElement = document.getElementById('unitInfo');
        const unitInfoBackElement = document.getElementById('unitInfoBack');
        const unitSelect = document.getElementById('unitSelect');
        const currentCardElement = document.getElementById('currentCard');
        const totalCardsElement = document.getElementById('totalCards');
        const progressInfoElement = document.getElementById('progressInfo');

        let allCards = [];
        let shuffledCards = [];
        let currentCardIndex = 0;
        let isFlipped = false;

        function shuffleCards() {
            for (let i = shuffledCards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffledCards[i], shuffledCards[j]] = [shuffledCards[j], shuffledCards[i]];
            }
            currentCardIndex = 0;
            updateDisplay();
        }

        function loadCards() {
            const selectedUnit = unitSelect.value;
            if (selectedUnit === 'all') {
                allCards = Object.values(vocabulary).flat();
                document.title = "TOEFL Essential Vocabulary Flashcards";
            } else {
                allCards = vocabulary[selectedUnit];
                document.title = `Lesson ${selectedUnit} Flashcards`;
            }
            shuffledCards = [...allCards];
            shuffleCards();
        }

        function updateDisplay() {
            if (shuffledCards.length > 0) {
                const card = shuffledCards[currentCardIndex];
                wordElement.textContent = card.word;
                pronunciationElement.textContent = card.pronunciation;
                meaningElement.textContent = card.meaning;
                unitInfoElement.textContent = `Lesson ${card.unit}`;
                unitInfoBackElement.textContent = `Lesson ${card.unit}`;
                currentCardElement.textContent = currentCardIndex + 1;
                totalCardsElement.textContent = shuffledCards.length;
                progressInfoElement.style.display = 'block';
            } else {
                wordElement.textContent = "No cards available";
                pronunciationElement.textContent = "";
                meaningElement.textContent = "No cards available";
                unitInfoElement.textContent = "";
                unitInfoBackElement.textContent = "";
                currentCardElement.textContent = "0";
                totalCardsElement.textContent = "0";
                progressInfoElement.style.display = 'none';
            }
            // Reset flip state
            isFlipped = false;
            currentFlashcard.querySelector('.flashcard').classList.remove('flipped');
        }

        function flipCard() {
            isFlipped = !isFlipped;
            currentFlashcard.querySelector('.flashcard').classList.toggle('flipped');
        }

        function nextCard() {
            if (shuffledCards.length > 0) {
                currentCardIndex = (currentCardIndex + 1) % shuffledCards.length;
                updateDisplay();
            }
        }

        function previousCard() {
            if (shuffledCards.length > 0) {
                currentCardIndex = (currentCardIndex - 1 + shuffledCards.length) % shuffledCards.length;
                updateDisplay();
            }
        }

        function resetProgress() {
            currentCardIndex = 0;
            shuffleCards();
        }

        function pronounceWord() {
            if ('speechSynthesis' in window) {
                const word = shuffledCards[currentCardIndex].word;
                const utterance = new SpeechSynthesisUtterance(word);
                utterance.lang = 'en-US';
                utterance.rate = 0.9;
                utterance.pitch = 1.0;
                utterance.volume = 1.0;

                const voices = speechSynthesis.getVoices();
                let selectedVoice = voices.find(v => v.lang.startsWith('en-US'));
                if (selectedVoice) {
                    utterance.voice = selectedVoice;
                }

                speechSynthesis.cancel();
                speechSynthesis.speak(utterance);
            }
        }

        currentFlashcard.addEventListener('click', flipCard);
        unitSelect.addEventListener('change', loadCards);

        window.onload = () => {
            if ('speechSynthesis' in window) {
                speechSynthesis.addEventListener('voiceschanged', loadCards);
                if (speechSynthesis.getVoices().length > 0) {
                    loadCards();
                }
            } else {
                loadCards();
            }
        };

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') {
                nextCard();
            } else if (e.key === 'ArrowLeft') {
                previousCard();
            } else if (e.key === ' ' || e.key === 'Enter') {
                e.preventDefault();
                flipCard();
            }
        });
    </script>
</body>
</html>